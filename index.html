<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Groen: The Hidden Cost of AI</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23238636' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.5 2 9 0 5.5-4.5 10-10 10Z'/%3E%3Cpath d='M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12'/%3E%3C/svg%3E">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap');

        :root {
            --bg-color: #0f1720;
            --panel-color: #111c25;
            --text-color: #d8e1e8;
            --muted: #7c8a99;
            --accent-color: #3ad29f;
            --accent-strong: #23b57f;
            --warn: #ff7f50;
            --code-bg: #0c131a;
            --border-color: rgba(255, 255, 255, 0.08);
            --shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            --font-main: 'Space Grotesk', 'Segoe UI', sans-serif;
            --font-mono: 'Courier New', Courier, monospace;
        }

        body.eco-mode {
            --bg-color: #000000;
            --panel-color: #050b10;
            --text-color: #9ba6b2;
            --accent-color: #4b6a55;
            --accent-strong: #4b6a55;
            --code-bg: #050b10;
            --border-color: rgba(255, 255, 255, 0.05);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: radial-gradient(circle at 20% 20%, rgba(58, 210, 159, 0.08), transparent 30%),
                        radial-gradient(circle at 80% 10%, rgba(255, 127, 80, 0.08), transparent 25%),
                        radial-gradient(circle at 50% 80%, rgba(74, 130, 247, 0.07), transparent 25%),
                        var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-main);
            line-height: 1.7;
            transition: background-color 0.4s, color 0.4s;
        }

        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            backdrop-filter: blur(12px);
            background: rgba(10, 15, 20, 0.7);
            border-bottom: 1px solid var(--border-color);
            padding: 0.75rem 2rem;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-center {
            display: flex;
            gap: 18px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .logo {
            font-family: var(--font-mono);
            font-weight: 700;
            color: var(--accent-color);
            letter-spacing: 0.5px;
            white-space: nowrap;
        }

        .nav-center a {
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.2s;
        }
        .nav-center a:hover { color: var(--accent-color); }

        .eco-switch {
            background: linear-gradient(120deg, var(--accent-color), var(--accent-strong));
            border: none;
            color: #04120a;
            padding: 6px 12px;
            cursor: pointer;
            border-radius: 999px;
            font-family: var(--font-main);
            font-size: 0.85rem;
            font-weight: 600;
            white-space: nowrap;
        }

        header {
            min-height: 90vh;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
            align-items: center;
            gap: 2.5rem;
            padding: 7rem 1.5rem 4rem;
            max-width: 1100px;
            margin: 0 auto;
        }

        h1 {
            font-size: 3.4rem;
            margin-bottom: 1rem;
            font-weight: 700;
            letter-spacing: -1px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--muted);
            margin-bottom: 1.5rem;
            max-width: 560px;
        }

        .btn {
            background: linear-gradient(120deg, var(--accent-color), var(--accent-strong));
            color: #04120a;
            padding: 14px 24px;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: var(--shadow);
        }
        .btn:hover { transform: translateY(-2px); }

        .pill-row { display: flex; flex-wrap: wrap; gap: 10px; margin: 1rem 0; }
        .pill {
            background: rgba(58, 210, 159, 0.12);
            color: var(--accent-color);
            padding: 8px 12px;
            border-radius: 999px;
            font-size: 0.9rem;
            border: 1px solid rgba(58, 210, 159, 0.35);
        }

        .feature-list {
            display: flex;
            gap: 1.2rem;
            flex-wrap: wrap;
            margin: 1.2rem 0;
        }
        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            background: var(--panel-color);
            padding: 10px 16px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            font-size: 0.95rem;
        }
        .feature-item .icon {
            font-size: 1.3rem;
        }

        section {
            padding: 4rem 2rem;
            max-width: 1100px;
            margin: 0 auto;
        }

        h2 {
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
            margin-bottom: 18px;
            color: var(--accent-color);
            font-family: var(--font-main);
        }

        .section-intro { color: var(--muted); margin-bottom: 20px; }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .card {
            background: var(--panel-color);
            border: 1px solid var(--border-color);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 12px 28px rgba(0,0,0,0.35);
        }

        .highlight { color: var(--accent-color); font-weight: 700; }

        .code-block {
            background-color: var(--code-bg);
            border: 1px solid var(--border-color);
            color: #7dfcb4;
            padding: 15px;
            font-family: var(--font-mono);
            border-radius: 8px;
            margin: 20px 0;
            position: relative;
            box-shadow: var(--shadow);
        }
        .code-block::before {
            content: "terminal";
            position: absolute;
            top: -12px;
            left: 12px;
            background: var(--accent-color);
            color: #04120a;
            padding: 0 8px;
            font-size: 0.75rem;
            font-weight: 700;
            border-radius: 6px;
        }

        .mini-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 14px;
            margin-top: 14px;
        }

        .timeline {
            list-style: none;
            border-left: 2px solid var(--border-color);
            padding-left: 18px;
        }
        .timeline li { margin: 14px 0; color: var(--muted); }
        .timeline strong { color: var(--text-color); }

        footer {
            text-align: center;
            padding: 2.5rem;
            border-top: 1px solid var(--border-color);
            margin-top: 4rem;
            font-size: 0.95rem;
            color: var(--muted);
        }

        @media (max-width: 600px) {
            nav { padding: 0.8rem 1.2rem; }
            h1 { font-size: 2.6rem; }
        }

    </style>
</head>
<body>

    <nav>
        <div class="logo">&lt;GreenCode/&gt;</div>
        <div class="nav-center">
            <a href="#onderzoek">Het Onderzoek</a>
            <a href="#kader">Breder Kader</a>
            <a href="#visie">Onze Visie</a>
        </div>
        <button class="eco-switch" onclick="toggleEcoMode()">üå± Eco Mode: OFF</button>
    </nav>

    <header>
        <div>
            <h1>Code Groen</h1>
            <p class="subtitle">De verborgen energiekosten van AI-gegenereerde code. Gebaseerd op de scriptie FMECG-LLM (2024) van Tom Cappendijk.</p>
            <a href="#onderzoek" class="btn">Duik in het onderzoek</a>
        </div>
        <div class="card" style="border: 1px solid rgba(58,210,159,0.35);">
            <h3 style="margin-bottom: 10px;">In het kort</h3>
            <ul class="timeline">
                <li><strong>Onderwerp:</strong> Hoe energie-effici√´nt is AI-gegenereerde code?</li>
                <li><strong>Methode:</strong> FMECG-LLM meet energie, runtime en geheugen.</li>
                <li><strong>Conclusie:</strong> "Groene" prompts werken niet consistent ‚Äî meten blijft nodig.</li>
            </ul>
        </div>
    </header>

    <section id="onderzoek">
        <h2>Het Onderzoek</h2>
        <p class="section-intro">
            De bachelorscriptie <strong>FMECG-LLM</strong> van Tom Cappendijk (Universiteit van Amsterdam, juni 2024) onderzoekt een vraag die steeds relevanter wordt: hoe energie-effici√´nt is de code die AI-modellen genereren?
        </p>

        <div class="card" style="margin-bottom: 1.5rem;">
            <h3>üåç Het probleem</h3>
            <p>De uitstoot van broeikasgassen door menselijke activiteiten leidt tot opwarming van de aarde. De vraag naar elektriciteit voor computers, netwerken en datacenters stijgt. Het trainen van GPT-3 kostte alleen al zo'n <strong>1.287 MWh</strong> aan energie ‚Äî dat is wat een gemiddeld Nederlands huishouden in 500 jaar verbruikt. En als ChatGPT draait, verbruikt het naar schatting <strong>0,2 GWh per dag</strong>.</p>
            <p style="margin-top: 10px;">Maar er is nog een blinde vlek: niemand kijkt naar hoe effici√´nt de <em>gegenereerde code</em> draait. Als miljoenen gebruikers dagelijks AI-code uitvoeren, tikt elke ineffici√´ntie door in het mondiale energieverbruik.</p>
        </div>

        <div class="card" style="margin-bottom: 1.5rem;">
            <h3>De onderzoeksvragen</h3>
            <p>Tom stelde twee hoofdvragen:</p>
            <ol style="margin: 12px 0 0 20px; color: var(--muted);">
                <li style="margin-bottom: 8px;"><strong style="color: var(--text-color);">Hoe ontwerp je een framework</strong> dat LLM's kan evalueren op het energieverbruik van hun gegenereerde code?</li>
                <li><strong style="color: var(--text-color);">In hoeverre kun je prompts aanpassen</strong> zodat een LLM code produceert die minder energie verbruikt?</li>
            </ol>
        </div>

        <div class="card" style="margin-bottom: 1.5rem;">
            <h3>üîß De methode: FMECG-LLM</h3>
            <p>Om dit te onderzoeken bouwde Tom een <strong>modulair, uitbreidbaar en portable framework</strong> in Python. Het werkt als volgt:</p>
            <ul class="timeline">
                <li><strong>LLM's koppelen:</strong> Het framework ondersteunt meerdere modellen tegelijk: CodeLlama-70b, CodeLlama-70b-Instruct, CodeLlama-70b-Python, DeepSeek-Coder-33b-base en DeepSeek-Coder-33b-instruct.</li>
                <li><strong>Prompts vari√´ren:</strong> Dezelfde programmeeropgave (van LeetCode: easy, medium, hard) wordt aangeboden met verschillende prompt-optimalisaties:
                    <div class="code-block" style="margin: 10px 0; font-size: 0.85rem;">
                        "Give me an energy-optimized solution..."<br>
                        "Use library functions..."<br>
                        "Use a for loop instead of a while loop..."
                    </div>
                </li>
                <li><strong>Meten:</strong> Met <em>Perf</em> (via Intel's RAPL-interface) wordt het energieverbruik in Joules gemeten. Daarnaast: runtime, piekgeheugen (via GNU time) en floating-point operations.</li>
                <li><strong>Herhalen:</strong> Elke code wordt 50√ó uitgevoerd om statistische significantie te krijgen (Mann-Whitney U-test, Œ± = 0.01).</li>
                <li><strong>Valideren:</strong> Alleen correcte code wordt vergeleken ‚Äî appels met appels.</li>
            </ul>
        </div>

        <div class="card" style="margin-bottom: 1.5rem;">
            <h3>üìä De resultaten</h3>
            <p>De belangrijkste bevinding: <strong>er is geen consistente winnaar</strong>.</p>
            <div class="mini-grid" style="margin-top: 12px;">
                <div class="card" style="background: rgba(75, 192, 192, 0.1); border: 1px solid rgba(75, 192, 192, 0.3);">
                    <p style="font-size: 2rem; font-weight: 700; color: #4bc0c0;">‚àí59,7%</p>
                    <p style="font-size: 0.85rem; color: var(--muted);">CodeLlama-70b-Python met "for loop" prompt op Sort List</p>
                </div>
                <div class="card" style="background: rgba(255, 99, 132, 0.1); border: 1px solid rgba(255, 99, 132, 0.3);">
                    <p style="font-size: 2rem; font-weight: 700; color: #ff6384;">+465,5%</p>
                    <p style="font-size: 0.85rem; color: var(--muted);">DeepSeek-33b-base met "for loop" prompt op Median Arrays</p>
                </div>
            </div>
            <p style="margin-top: 15px;">Waarom zo'n verschil? Bij Sort List schakelden sommige LLM's over van handgeschreven Python naar <code>list.sort()</code> ‚Äî een geoptimaliseerde library-functie. Bij Median Arrays deed DeepSeek precies het omgekeerde: het verving een simpele <code>sorted()</code>-aanroep door drie while-loops in pure Python.</p>
        </div>

        <div style="margin-top: 20px; background: var(--panel-color); padding: 20px; border-radius: 14px; box-shadow: var(--shadow);">
            <canvas id="energyChart"></canvas>
        </div>
        <p style="font-size: 0.85rem; text-align: center; margin-top: 10px; color: var(--muted);">
            Procentuele verandering in energieverbruik t.o.v. de basisprompt. Negatief = besparing, positief = verspilling.
        </p>

        <div class="card" style="margin-top: 1.5rem; border-left: 5px solid var(--warn);">
            <h3>üí° De conclusie</h3>
            <p>Een specifieke combinatie van prompt, LLM en probleem <em>kan</em> leiden tot energiebesparing. Maar <strong>geen enkele prompt werkt consistent</strong> voor hetzelfde model over verschillende problemen. De "for loop"-prompt scoorde het vaakst goed, maar faalde ook spectaculair.</p>
            <p style="margin-top: 10px;"><strong>Praktische implicatie:</strong> "Green prompting" is geen betrouwbare strategie. Wie echt wil besparen, moet meten ‚Äî en dat kan nu met frameworks zoals FMECG-LLM.</p>
        </div>
    </section>

    <section id="kader">
        <h2>4. Breder kader</h2>
        <p class="section-intro">
            Datacenters, AI-modellen en software draaien op enorme hoeveelheden elektriciteit. Software-optimalisatie is daarom niet alleen een technische uitdaging, maar ook een maatschappelijke verantwoordelijkheid.
        </p>

        <div class="card-grid">
            <div class="card">
                <h4>Directe vs. indirecte impact</h4>
                <p>LLM's worden grootschalig ingezet en hun directe energieverbruik is inmiddels bekend. De scriptie FMECG-LLM richt zich op de <em>indirecte</em> impact: hoe energie-effici√´nt is de code die LLM's genereren? Dat bepaalt uiteindelijk hoeveel stroom elke inferentie en elke deployment kost.</p>
            </div>
            <div class="card">
                <h4>Wat het framework meet</h4>
                <p>FMECG-LLM test meerdere modellen (o.a. CodeLlama en DeepSeek) in een geautomatiseerd framework. Code wordt gegenereerd, uitgevoerd en gemeten op energieverbruik, runtime, geheugen en floating-point operations. De conclusie: LLM's zijn nog niet betrouwbaar in het schrijven van zuinige code, maar we kunnen het w√©l meten.</p>
            </div>
            <div class="card">
                <h4>Onderzoeksrichtingen</h4>
                <p>Er is veel focus op het opschalen van AI-modellen, maar minder op hun footprint. Naast code-optimalisatie worden technieken als <em>pruning</em>, <em>spiking networks</em>, <em>low-rank adaptation</em> en <em>quantization</em> steeds relevanter om modellen zelf effici√´nter te maken.</p>
            </div>
            <div class="card">
                <h4>De grootste bottleneck</h4>
                <p>Deep learning blijft moeilijk te interpreteren. Zolang we niet goed begrijpen waarom een model bepaalde keuzes maakt, is gerichte optimalisatie lastig. Dat vraagt om geduld √©n om de technologie verantwoord in te zetten.</p>
            </div>
        </div>
    </section>

    <section id="visie">
        <h2>5. Onze visie</h2>
        <p class="section-intro">
            LLM's zijn indrukwekkend. Jarenlang onderzoek heeft ze enorm capabel gemaakt en veel ontwikkelaars omarmen ze juist daarom. Maar achter die kracht schuilt een ongemakkelijke waarheid.
        </p>

        <div class="card" style="border-left: 5px solid var(--warn); max-width: 800px;">
            <h4>De race naar de beste LLM</h4>
            <p>Grote AI-bedrijven pompen miljarden in het bouwen van de beste modellen. Parameters en rekenkracht worden opgeschroefd voor een fractie meer performance, vaak tegen een veelvoud aan energieverbruik. Die afweging vinden wij onverantwoord.</p>
        </div>

        <div class="card" style="border-left: 5px solid var(--accent-color); max-width: 800px; margin-top: 1rem;">
            <h4>Onze kijk op AI-onderzoek</h4>
            <p>Het huidige onderzoek focust te veel op betere output en te weinig op effici√´ntie. Wij pleiten voor een cultuuromslag: meet niet alleen nauwkeurigheid, maar ook energieverbruik. De ontwikkelaar van de toekomst is een <strong>auditor</strong> die AI-output beoordeelt op correctheid, performance √©n footprint. Pas als de meters groen licht geven, is een feature klaar.</p>
        </div>
    </section>

    <footer>
        <p>Gemaakt voor het vak Academische Vaardigheden Informatica.</p>
        <p>Gebaseerd op: Cappendijk, T. (2024). <em>FMECG-LLM: Framework for Measuring the Energy Consumption of Code Generated by LLMs</em>, Universiteit van Amsterdam.</p>
    </footer>

    <script>
        // 1. Logic for Eco Mode Toggle
        function toggleEcoMode() {
            const body = document.body;
            const btn = document.querySelector('.eco-switch');
            body.classList.toggle('eco-mode');
            
            if (body.classList.contains('eco-mode')) {
                btn.textContent = "üå± Eco Mode: ON";
                // Verminder helderheid van scherm simulatie
                document.documentElement.style.setProperty('--accent-color', '#4a4a4a');
            } else {
                btn.textContent = "üå± Eco Mode: OFF";
                document.documentElement.style.setProperty('--accent-color', '#238636');
            }
        }

        // 2. Logic for Chart.js (Data Visualization)
        // Data uit Figuur 6.1 en C.3 van de thesis - energieverschil t.o.v. basisprompt
        const ctx = document.getElementById('energyChart').getContext('2d');
        const energyChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: [
                    'CodeLlama-70b', 
                    'CodeLlama-70b-Instruct', 
                    'CodeLlama-70b-Python',
                    'DeepSeek-33b-base',
                    'DeepSeek-33b-instruct'
                ],
                datasets: [
                    {
                        label: 'Energy prompt',
                        data: [-4.2, 2.1, -1.8, 3.5, -17.3],
                        backgroundColor: 'rgba(255, 206, 86, 0.7)',
                        borderColor: 'rgba(255, 206, 86, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'For-loop prompt',
                        data: [-21.7, -21.6, -59.7, 465.5, -17.4],
                        backgroundColor: function(context) {
                            const value = context.dataset.data[context.dataIndex];
                            return value > 100 ? 'rgba(255, 99, 132, 0.7)' : 'rgba(75, 192, 192, 0.7)';
                        },
                        borderColor: function(context) {
                            const value = context.dataset.data[context.dataIndex];
                            return value > 100 ? 'rgba(255, 99, 132, 1)' : 'rgba(75, 192, 192, 1)';
                        },
                        borderWidth: 1
                    },
                    {
                        label: 'Library-functions prompt',
                        data: [1.2, -0.5, -59.4, 2.8, -1.1],
                        backgroundColor: 'rgba(153, 102, 255, 0.7)',
                        borderColor: 'rgba(153, 102, 255, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        labels: { color: '#999' }
                    },
                    title: {
                        display: true,
                        text: 'Energieverbruik per LLM en prompt-optimalisatie (% verschil t.o.v. basis)',
                        color: '#c9d1d9'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                let value = context.parsed.y;
                                let verdict = value < 0 ? '(besparing)' : value > 0 ? '(verspilling)' : '';
                                return `${label}: ${value > 0 ? '+' : ''}${value}% ${verdict}`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        grid: { color: '#333' },
                        ticks: { 
                            color: '#c9d1d9',
                            callback: function(value) {
                                return value + '%';
                            }
                        },
                        title: { display: true, text: 'Verandering t.o.v. basisprompt', color: '#666' }
                    },
                    x: {
                        ticks: { color: '#c9d1d9', maxRotation: 45 }
                    }
                }
            }
        });
    </script>
</body>
</html>
